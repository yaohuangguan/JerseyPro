{"version":3,"sources":["components/Signup/Form-input.jsx","components/Custom-button/Button.jsx","components/Signup/Signin.jsx"],"names":["Form","handleChange","label","otherProps","className","onChange","value","length","Button","children","Signin","props","validEmail","test","state","email","getEmail","e","setState","target","send","handleSubmit","a","preventDefault","password","errors","auth","signInWithEmailAndPassword","history","push","console","log","code","name","document","querySelector","classList","add","style","display","remove","this","src","width","alt","onSubmit","type","id","disabled","onClick","googleSignIn","React","Component"],"mappings":"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","file":"static/js/4.1fe5ce87.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./form-input.styles.scss\";\nconst Form = ({ handleChange, label, ...otherProps }) => (\n  <div className='group'>\n    <input className='form-input' onChange={handleChange} {...otherProps} />\n    {label ? (\n      <label\n        className={`${\n          otherProps.value.length ? \"shrink\" : \"\"\n        } form-input-label`}\n      >\n        {label}\n      </label>\n    ) : null}\n  </div>\n);\n\nexport default Form;\n","import React from \"react\";\n\nconst Button = ({ children, ...otherProps }) => {\n  return (\n    <div className='btn btn-primary' {...otherProps}>\n      {children}\n    </div>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport FormInput from \"./Form-input\";\nimport Button from \"../Custom-button/Button\";\nimport { auth, googleSignIn } from \"../../firebase/firebase\";\nimport \"./Signin.scss\";\nclass Signin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      send: false,\n      errors: []\n    };\n  }\n  validEmail = () => {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(this.state.email);\n  };\n  getEmail = e => {\n    this.setState({ email: e.target.value }, () => {\n      this.validEmail()\n        ? this.setState({ send: true })\n        : this.setState({ send: false });\n    });\n  };\n  handleSubmit = async e => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    if (!email || !password) {\n      this.setState({ errors: \"输入邮箱和密码\" });\n      return;\n    }\n    try {\n      await auth.signInWithEmailAndPassword(email, password);\n      this.setState({\n        email: \"\",\n        password: \"\"\n      });\n      this.props.history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n      switch (error.code) {\n        case \"auth/user-not-found\":\n          this.setState({ errors: \"用户名和密码不正确，请修改\" });\n          break;\n        case \"auth/wrong-password\":\n          this.setState({ errors: \"用户名和密码不正确，请修改\" });\n          break;\n        case \"auth/network-request-failed\":\n          this.setState({ errors: \"网络故障，请检查你的网络然后重试\" });\n          break;\n        default:\n          break;\n      }\n    }\n  };\n  handleChange = e => {\n    const { value, name } = e.target;\n    this.setState({ [name]: value });\n  };\n  componentDidMount() {\n    document.querySelector(\".relative\").classList.add(\"background\");\n    document.querySelector(\".logoText\").classList.add(\"logo-b\");\n    document.querySelector(\".logo\").classList.add(\"text-center\");\n    document.querySelector(\".options\").style.display = \"none\";\n    console.log(\"changed to linear\");\n  }\n  componentWillUnmount() {\n    document.querySelector(\".logoText\").classList.remove(\"logo-b\");\n    document.querySelector(\".logo\").classList.remove(\"text-center\");\n    document.querySelector(\".relative\").classList.remove(\"background\");\n    document.querySelector(\".options\").style.display = \"flex\";\n    console.log(\"changed away linear\");\n  }\n  render() {\n    const { email, password, errors, send } = this.state;\n    return (\n      <div className=\"container\">\n        <br />\n        <br />\n        <br />\n        <br />\n        <div className=\"row flex\">\n          <div className=\"start\">\n            <img\n              src={\"https://media.giphy.com/media/woIKv4f7TETgQ/giphy.gif\"}\n              width=\"100%\"\n              alt=\"the\"\n            />\n          </div>\n          <div>\n            <h2 className=\"h3-responsive text-center text-white my-4\">\n              使用账号密码登录\n            </h2>\n\n            <form onSubmit={this.handleSubmit}>\n              {errors ? <div className=\"text-danger\">{errors}</div> : null}\n              <FormInput\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                id=\"email\"\n                label=\"邮箱\"\n                handleChange={this.handleChange}\n                onChange={this.getEmail}\n              />\n              <FormInput\n                type=\"password\"\n                name=\"password\"\n                label=\"密码\"\n                value={password}\n                handleChange={this.handleChange}\n                id=\"password\"\n              />\n              <div className=\"text-center\">\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-warning mr-4\"\n                  value=\"登录\"\n                  disabled={!send}\n                />\n                <h6 className=\"hr\">或</h6>\n                <Button onClick={googleSignIn}>\n                  <i className=\"fab fa-google\"></i> Google登录\n                </Button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Signin;\n"],"sourceRoot":""}